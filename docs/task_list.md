# タスクリスト

## 実装計画

### 🧭 0. プロジェクトセットアップ（初期準備）

#### 0-1. 開発環境準備

1. GitHub リポジトリを作成する
2. README.md を初期化して目的とセットアップ手順を書く
3. `.gitignore` を作成する
4. Node.js プロジェクト初期化（`npm init`）
5. TypeScript を導入する（`tsconfig.json` 設定）
6. パッケージマネージャ（npm/yarn/pnpm）を選定して lock file を作成

#### 0-2. 開発ツール設定

7. ESLint を導入して基本ルールを設定する
8. Prettier を導入してフォーマットルールを定義する
9. Lint / Format を自動実行する npm script を作成する
10. Git Hook（lint-staged + husky）を設定する
11. GitHub Actions を使って push 時に Lint チェックする CI を構築する

---

### 🤷‍♂️ 1. UI フレーム・ルーティング構築

#### 1-1. アプリ構造とルーティング

12. Next.js プロジェクトを初期化する（`create-next-app`）
13. app ディレクトリ構成を定義する
14. ページルーティング（トップページ / ログイン / ダッシュボード）を定義する
15. ナビゲーションリンクコンポーネントを作成する

#### 1-2. レイアウト・デザイン基盤

16. Tailwind CSS を導入する
17. カスタムテーマ（色、フォント）を定義する
18. レイアウトコンポーネント（Header / Footer / Main Layout）を作成する
19. `@/components/ui` に汎用 UI コンポーネント置き場を設ける

---

### 🧩 2. 認証・ユーザー管理

#### 2-1. 認証基盤構築

20. Clerk（または Supabase Auth）を導入する
21. サインアップ / サインインページを作成する
22. 認証状態に応じてリダイレクト処理を実装する
23. 認証済みユーザー情報の取得ロジックを実装する
24. ログアウト処理を実装する

#### 2-2. ユーザー UI と権限制御

25. 認証状態に応じたナビゲーション表示を実装する
26. ユーザープロフィールページ（仮）を作成する
27. 非認証ユーザーによるアクセスブロック処理を追加する

---

### 📒 3. 投稿機能（基本 CRUD）

#### 3-1. 作成・保存

28. 投稿モデルの定義（例：title, content, createdAt, userId）
29. 投稿作成フォームを作成する
30. 入力バリデーション（必須・文字数など）を追加する
31. Supabase に保存する API / hook を作成する

#### 3-2. 表示・一覧

32. 自ユーザーの投稿一覧を取得する関数を作成する
33. 投稿一覧コンポーネントを作成する
34. 一覧ページ（/posts）を作成する

#### 3-3. 詳細・編集

35. 投稿詳細ページ（/posts/[id]）を作成する
36. 投稿の編集フォームを作成する
37. 投稿の削除ボタンと処理を追加する

---

### 🤖 4. AI 連携機能

#### 4-1. API 連携の準備

38. OpenAI API キーのセキュアな保存方法を実装する（env + サーバ側）
39. fetch wrapper または SDK を作成する（token 自動付与など）

#### 4-2. AI フィードバック機能

40. 投稿内容を OpenAI に送信して要約を取得する処理を作成する
41. 要約結果を UI に表示するコンポーネントを作成する
42. フィードバック or 提案コメントを生成して表示する機能を追加する

---

### 🔐 5. セキュリティ・バリデーション

43. 投稿のユーザー ID とログインユーザーが一致しているかを検証する
44. サーバ側 API のバリデーションロジックを追加する
45. フロントエンドでのバリデーション強化（Zod などの活用）

---

### 🧪 6. テスト・品質

46. ユニットテスト環境（Jest/Vitest）を構築する
47. コンポーネント単体テストを書く（例：投稿フォーム）
48. E2E テスト環境（Playwright or Cypress）を構築する
49. 基本的な投稿の作成　表示　削除の E2E テストを作成する

---

### 🚀 7. リリース準備

50. Vercel にステージング環境をデプロイする
51. リリースノートを作成する
52. 本番環境へデプロイする
53. Smoke Test（ログイン・投稿作成・削除）を手動で実施する

---

このリストを元に、1 タスクずつ AI に委任していくことができます。必要に応じて、さらなる分解や依存関係の整理も可能です。

## 実装時に決めるリスト

1. 簡易な CI/CD の設計（Vercel 標準 or GitHub Actions）
2. テスト戦略（ユニットテスト / E2E テスト）
3. バックアップ・データリカバリの基本方針
4. エラーハンドリング/タイムアウト設計方針
5. ロギング・モニタリング方針（必要に応じて Sentry 導入検討）